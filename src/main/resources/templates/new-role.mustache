<html>

<body>
<a href="/">Главная страница</a>
<h1>Список ролей</h1>
<div>
    <form method="POST">
        <input type="text" name="roleName" placeholder="Введите название новой роли"/><br>
        <input type="checkbox" name="canAcceptReport"/> Добавить возможность принимать отчеты<br>
        <input type="checkbox" name="canSeeList"/> Добавить возможность просматривать отчеты всех пользователей<br>
        <input type="hidden" name="_csrf" value="{{_csrf.token}}"/><br>
        <button type="submit">Добавить роль</button>
    </form>
    {{#error}}
        <strong style="color: red">{{error}}</strong>
    {{/error}}
    {{#success}}
        <strong style="color: green">{{success}}</strong>
    {{/success}}
    <table border="1" cellpadding="5" style="border-collapse: collapse;">
        <thead>
        <tr>
            <th>ID</th>
            <th>Название роли</th>
            <th>Может просматривать<br>отчеты всех пользователей</th>
            <th>Может принимать отчеты</th>
        </tr>
        </thead>
        <tbody>
        {{#roles}}
            <tr>
                <td>{{id}}</td>
                <td>{{name}}</td>
                {{#canSeeList}}<td style="text-align: center">✔</td>{{/canSeeList}}{{^canSeeList}}<td style="text-align: center">❌</td>{{/canSeeList}}
                {{#canAcceptReport}}<td style="text-align: center">✔</td>{{/canAcceptReport}}{{^canAcceptReport}}<td style="text-align: center">❌</td>{{/canAcceptReport}}
                {{^isSystem}}
                <td>
                    <a href="/roles/{{id}}/delete">Удалить</a>
                </td>
                {{/isSystem}}
            </tr>
        {{/roles}}
        </tbody>
    </table>
    {{#deleteConfirmation}}
        <form action="/roles/{{role.id}}/delete" method="POST">
            Вы действительно хотите удалить роль "{{role.name}}"? <input type="submit" value="Да, удалить"/>
            <input type="hidden" name="_csrf" value="{{_csrf.token}}"/>
        </form>
    {{/deleteConfirmation}}
</div>
</body>

</html>